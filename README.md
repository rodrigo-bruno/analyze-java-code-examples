# Java Collections Specializer
Java Collections Specializer (JCS) is a tool that specializes Java data structures. The implementation uses an AST generated by [JavaParser](https://javaparser.org/) to generate specialized data structure bytecodes.

## Building:

```
gradle build
gradle install
```

## To test:

Prerequisite: since JCS specializes data structures from an AST generated by parsing Java code, sources of the data structures to specialized need to be available locally. To specialize JDK collections (such as `java.util.HashMap`), the JDK sources need to be downloaded. This can be done by cloning a the main [jdk repo](https://github.com/openjdk/jdk/tree/jdk-11+28) or [labsjdk repo](https://github.com/graalvm/labs-openjdk-11).

After downloading the data structure sources:

```
cd tests

# Invoke JCS to specialize a number of data structures.
# Edits necessary to configure the data structure sources path and which data structures to specialize.
./setup-specialization.sh

# Run experiments.
# Edits necessary to specify JAVA_HOME.
./run-hotspot.sh

# Process and plot results.
./plot-arrayread.py
./plot-arraywrite.py
./plot-mapread.py
./plot-mapwrite.py
./plot-pubsub.py
```
